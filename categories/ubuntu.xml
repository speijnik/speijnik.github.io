<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"><channel><title>Stephan's blog (Ubuntu)</title><link>http://blog.sp.or.at</link><description>Stephan's notes on technology</description><lastBuildDate>Wed, 22 May 2013 18:25:16 GMT</lastBuildDate><generator>nikola</generator><docs>http://blogs.law.harvard.edu/tech/rss</docs><item><title>What's all the fuzz about canonical-census?</title><link>http://blog.sp.or.at/posts/201008whats-all-fuzz-about-canonical-census.html</link><description>&lt;p&gt;I know I have not updated this blog in quite a long time now, but something caught my attention today: canonical-census.&lt;br&gt;&lt;br&gt;As slashdot.org &lt;a href="http://linux.slashdot.org/story/10/08/10/0319243/Canonical-Begins-Tracking-Ubuntu-Installations"&gt;reports&lt;/a&gt; Canonical begins with tracking their (OEM) installations. Now it's obvious that people are uncomfortable with a program running on their system which phones back to their OS vendor, that's why I have had a quick look at what exactly canonical-census does.&lt;br&gt;&lt;br&gt;Firstly however, I would like to point out that the report on slashdot.org is very clear about which information is being gathered, being "&lt;i&gt;the number of times this system previously sent to Canonical [...], the Ubuntu distributor channel, the product name as acquired by the system's DMI information, and which Ubuntu release is being used&lt;/i&gt;". And it's perfectly correct. After getting the canonical-census Debian source package (using dget -u https://launchpad.net/ubuntu/+archive/partner/+files/canonical-census_0.1.dsc) the source package shows, besides the Debian packaging information, two scripts:&lt;br&gt;&lt;br&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;census (written in Python) and&lt;/li&gt;&lt;li&gt;send-census (a GNU bash script).&lt;/li&gt;&lt;/ul&gt;&lt;div&gt;Now what do those scripts actually do?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;send-census&lt;/b&gt; is installed in /etc/cron.daily, which means it will be executed once a day by the system's cron daemon. It's a mere 48 lines long, and its code is quite simple. So everyone with at least some shell scripting experience can easily check what it's doing. Now guess what, it sends exactly the information as reported on slashdot to Canonical. Nothing more and nothing less.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Technically it keeps a plain text file containing a single number as its call-counter, residing in &lt;i&gt;/var/lib/send-install-count/counter&lt;/i&gt; and uses an on my Ubuntu Lucid system nonexistent &lt;i&gt;/var/lib/ubuntu_dist_channel&lt;/i&gt; file for getting information about the distribution channel.&lt;/div&gt;&lt;div&gt;The above mentioned "system's DMI information" is not the whole bunch of DMI information available, but only the contents of &lt;i&gt;/sys/class/dmi/id/product_name&lt;/i&gt;, which strangely enough returns "System Product Name" on my machine. Last but not least it uses lsb-release to get the distribution release (ie. 10.04 for my system).&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Now those four pieces of information are sent to &lt;i&gt;http://census.canonical.com/submit&lt;/i&gt; via a simple HTTP GET query, using wget. The full URL with all the parameters added is:&lt;br&gt;&lt;i&gt;http://census.canonical.com/submit?count=&lt;b&gt;count&lt;/b&gt;&amp;amp;dcd=&lt;b&gt;dist_channel&lt;/b&gt;&amp;amp;product=&lt;b&gt;dmi_product_name&lt;/b&gt;&amp;amp;release=&lt;b&gt;ubuntu_release_version&lt;/b&gt;&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt;&lt;br&gt;&lt;/i&gt;&lt;/div&gt;&lt;div&gt;The second script, &lt;b&gt;census&lt;/b&gt;, is the part working on Canonical's script. Basically census reads in their Apache's access log file and creates an SQLite database from the contents of the log file. With 391 lines this script is a bit longer, but it does not end up in the Debian package at all.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Personally I do not see how Canonical or one of their partners could possibly do anything harmful with that information. Comparing this to Debian's popcon reveals that Debian is gathering a lot more information.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Now there are two more things one should consider: census is targeted at OEMs, which means its unlikely that it will end up on each and every Ubuntu installation and can be uninstalled by removing the canonical-census package with your favorite package manager.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Finally, think about this for a second: It's a shell script you can always examine. There is no hidden magic and it's a plain HTTP request the script is sending. No evil things happening there.&lt;br&gt;And now compare that to what other (often proprietary) software vendors do and how much data they submit, possibly even in encrypted form so you do not know for sure what is being sent to them.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Personally I welcome the openness of Canonical with providing their users with the package's code this early and being straight about what information it submits. They could have silently added it to those installations after all...&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Happy hacking!&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;</description><category>Canonical</category><category>Ubuntu</category><guid>http://blog.sp.or.at/posts/201008whats-all-fuzz-about-canonical-census.html</guid><pubDate>Tue, 10 Aug 2010 11:07:00 GMT</pubDate></item><item><title>kvm, qemu and the magic of ubuntu-vm-builder</title><link>http://blog.sp.or.at/posts/200911kvm-qemu-and-magic-of-ubuntu-vm-builder.html</link><description>&lt;p&gt;As I &lt;a href="http://techandsp.blogspot.com/2009/11/my-android-repositories.html"&gt;noted&lt;/a&gt; two days ago I was unable to build Android on Ubuntu 9.10 x86-64 and thus needed to set up a virtual machine.&lt;br&gt;&lt;br&gt;At first I went for my preferred virtualization solution, &lt;a href="http://www.virtualbox.org/"&gt;VirtualBox&lt;/a&gt; and had to notice that even though I assigned all 4 processor cores of my workstation (along with 2GiB of memory) to the virtual machine building was painfully slow. I immediately ditched the idea of using  VirtualBox again and decided to give something new to me a try: the combination of &lt;a href="http://www.linux-kvm.org/page/Main_Page"&gt;kvm&lt;/a&gt; and &lt;a href="http://www.qemu.org/"&gt;qemu&lt;/a&gt;.&lt;br&gt;&lt;br&gt;Having Intel VT-x support built into my workstation's processor I thought that this combination should give better performance, and I wasn't disappointed. To be honest, I am astonished on how fast the beast is now. Disk speed still seems to be not as fast as running things natively, but there must be a downside somewhere. :-)&lt;br&gt;&lt;br&gt;After a bit of googling I also found that &lt;a href="https://launchpad.net/vmbuilder"&gt;ubuntu-vm-builder&lt;/a&gt; exists, which simplifies virtual system creation tremendously.&lt;br&gt;&lt;br&gt;My Android working tree is being synchronized right now, which means that I should be able to start building in a few minutes time. I hope the virtual machine stays as fast as it is right now during the build and I hope everything goes well.&lt;/p&gt;</description><category>Technology</category><category>Android</category><category>free software</category><category>Ubuntu</category><guid>http://blog.sp.or.at/posts/200911kvm-qemu-and-magic-of-ubuntu-vm-builder.html</guid><pubDate>Wed, 11 Nov 2009 07:25:00 GMT</pubDate></item></channel></rss>