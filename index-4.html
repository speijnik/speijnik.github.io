<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="description" content="Stephan's notes on technology"><meta name="author" content="Stephan Peijnik"><title>Stephan's blog (old posts page 4) | Stephan's blog</title><link href="assets/css/bootstrap.min.css" rel="stylesheet" type="text/css"><link href="assets/css/bootstrap-responsive.min.css" rel="stylesheet" type="text/css"><link href="assets/css/rst.css" rel="stylesheet" type="text/css"><link href="assets/css/code.css" rel="stylesheet" type="text/css"><link href="assets/css/colorbox.css" rel="stylesheet" type="text/css"><link href="assets/css/theme.css" rel="stylesheet" type="text/css"><!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js" type="text/javascript"></script>
    <![endif]--><link rel="alternate" type="application/rss+xml" title="RSS (en)" href="rss.xml"></head><body class="home blog">
    <script type="text/javascript">var addthis_config={"ui_language":"en"};</script><div id="wrap" style="width:850px">
        <div id="container" style="width:560px">
            
        <div class="postbox">
        <h1><a href="posts/200809europarltv-for-everyone-no-only-for.html">EuroparlTV for everyone? No, only for users of proprietary software!</a></h1>
            <div class="meta" style="background-color: rgb(234, 234, 234); ">                    
                <span class="authordate">
                    Posted: 2008-09-18 13:19
                </span>
                <br><span class="tags">Tags: 
                            <a class="tag" href="categories/foss.html"><span class="badge badge-info">foss</span></a>
                            <a class="tag" href="categories/technology.html"><span class="badge badge-info">Technology</span></a>
                            <a class="tag" href="categories/free-software.html"><span class="badge badge-info">free software</span></a>
                </span>
            </div>
        <p>The European Parliament (EP) has just recently started a new service: <a href="http://www.europarltv.europa.eu/StartPage.aspx" title="EuroparlTV homepage">EuroparlTV</a>. A web-TV service which should give citizens of the European Union (actually everyone around the world)  a way to inform themselves about how the EP works, what it does, and so on.<br><br>After I first read these news over at <a href="http://www.heise.de/newsticker/Europaeisches-Parlament-startet-Internet-TV--/meldung/116144" title="Europäisches Parlament startet Internet-TV">heise</a> (german) I was impressed, but started to fear that yet again some sort of government has invested in proprietary software and is able to bring its services only to users of such software. Seconds later my fears became reality.<br><br>EuroparlTV seems to work only for users of either Adobe's proprietary <a href="http://en.wikipedia.org/wiki/Adobe_Flash" title="Adobe Flash">Flash player</a> (via the proprietary Adobe Flash file format) or users of Microsoft's <a href="http://en.wikipedia.org/wiki/Windows_Media_Player" title="Windows Media Player">Windows Media Player</a> (via the proprietary <a href="http://en.wikipedia.org/wiki/WMV" title="WMV">WMV</a> file format).<br><br>What this means to an open web, that is usable for everyone, should be clear.<br><br>Basically this is a service all citizens of the European Union pay for, but some cannot use. Is this really how governments (and the EP is some sort of government) should treat their citizens? Rather not.<br><br>On the one hand the European Commission is fighting vendor lock-in and monopoles, but on the other hand it directly helps these vendors by creating such services. Not a smart move in my opinion, neither is it understandable.<br><br>What I am asking myself though is why the EP was unable to create such a service, which itself could be quite interesting, without having all users of that service use proprietary software?<br>Is it so hard to deliver the service in a free (as in freedom), standardized format?<br>I will let answering these questions to you, but keep in mind that there are alternatives to this whole proprietary mess, like <a href="http://en.wikipedia.org/wiki/Ogg" title="Ogg">Ogg</a>, which are completly free.<br><br>Personally I am pretty disappointed by this move. However, I hope that I at least informed people that there is a problem with EuroparlTV.<br>Putting it simple and short this way the EP does a great deal with helping vendor lock-in whilst fighting the freedom of its own citizens. Even though it should be the other way round.</p>
            
    <p>
        <a href="posts/200809europarltv-for-everyone-no-only-for.html#disqus_thread" data-disqus-identifier="cache/posts/200809europarltv-for-everyone-no-only-for.html">Comments</a>

        </p></div>
        <div class="postbox">
        <h1><a href="posts/200809sptest-python-unittest-extension.html">sptest - a Python unittest extension</a></h1>
            <div class="meta" style="background-color: rgb(234, 234, 234); ">                    
                <span class="authordate">
                    Posted: 2008-09-10 13:06
                </span>
                <br><span class="tags">Tags: 
                            <a class="tag" href="categories/foss.html"><span class="badge badge-info">foss</span></a>
                            <a class="tag" href="categories/personal.html"><span class="badge badge-info">personal</span></a>
                            <a class="tag" href="categories/free-software.html"><span class="badge badge-info">free software</span></a>
                </span>
            </div>
        <p>Even though this is meant to be an introduction to sptest, I want to start off by letting you know why I wrote this extension to the Python <a href="http://docs.python.org/lib/module-unittest.html" title="unittest Module">unittest</a> module.<br><br>I am currently working on a (still private) project that uses Python's unittest module and the underlying framework. Even though unittest is a great utility for creating unit tests I found that the output it generates is unusable for me. I wanted something different though. Maybe a bit more aesthetic than the simple command line output unittest provides.<br><br>So I started off writing a class extending <a href="http://docs.python.org/lib/testresult-objects.html" title="TestResult Objects">unittest.TestResult</a> to fit my needs. I soon realized that interfacing with this part of unittest is not as easy as it could be, but I still continued to write my class.<br>After two hours of hacking I noticed that this class had become a monster. It was huge and I felt uncomfortable having such a huge class lying around somewhere in a <em>"runtests.py"</em> file for the only reason of having that pretty output.<br><br>This was the point when I decided to move all that code into a separate project and try to come up with a more intuitive API. This was the second when <a href="http://www.bitbucket.org/sp/sptest/" title="sptest project">sptest</a> was born, about 5 hours ago.<br><br>What I did come up with is a small Python module that makes customizing the way unit test results are presented (or stored) easier. It currently includes two output handler classes. One providing fancy CLI output on ANSI terminals and the other one providing XML output.<br><br>Additional output handler classes could store the result of the unit tests in a database or send it to a central point on the network, but implementing that is up to someone else, for now.<br><br>Running unit tests with <em>sptest</em> is as simple as calling:<br></p><blockquote>sptest.TestMain(TestSuite).run()</blockquote><br>By default the FancyCLIOutput handler class will be invoked and you will see why the handler is called the way it is immediatly.<br><br>In order to generate an XML file containing the test results one just has to modify the call to <em>sptest</em> to look like this:<br><blockquote>sptest.TestMain(TestSuite, output_class=sptest.output.XMLOutput).run()</blockquote><br><em>sptest</em> also provides support for preparation and cleanup functions. The only thing you have to do is define these functions and adjust the arguments passed to <em>TestMain</em> accordingly.<br><br>Most of the code is already documented and a doxygen configuration file for generating the html documentation comes with the code. Also, <a href="http://www.bitbucket.org/sp/sptest/src/d332f262bb0d/doc/example/example0.py" title="example0.py">two</a> <a href="http://www.bitbucket.org/sp/sptest/src/d332f262bb0d/doc/example/example0_xml.py" title="example0_xml.py">examples</a> are included that show how to use sptest.
            
    <p>
        <a href="posts/200809sptest-python-unittest-extension.html#disqus_thread" data-disqus-identifier="cache/posts/200809sptest-python-unittest-extension.html">Comments</a>

        </p></div>
        <div class="postbox">
        <h1><a href="posts/200809update-google-chrome-good-or-evil-good.html">UPDATE: Google Chrome: Good or evil? -- GOOD!</a></h1>
            <div class="meta" style="background-color: rgb(234, 234, 234); ">                    
                <span class="authordate">
                    Posted: 2008-09-02 17:54
                </span>
                <br><span class="tags">Tags: 
                            <a class="tag" href="categories/foss.html"><span class="badge badge-info">foss</span></a>
                            <a class="tag" href="categories/technology.html"><span class="badge badge-info">Technology</span></a>
                            <a class="tag" href="categories/free-software.html"><span class="badge badge-info">free software</span></a>
                </span>
            </div>
        <strong>UPDATE</strong>: You can find the update to this article at its bottom.<br><br>Even though Google's slogan is <a href="http://en.wikipedia.org/wiki/Don%27t_be_evil" title="Don't be evil">"don't be evil"</a> I am not entirely sure whether this also applies to their newest development: the Google Chrome browser.<br><br>The <a href="http://googleblog.blogspot.com/2008/09/fresh-take-on-browser.html">announcement</a> over at the <a href="http://googleblog.blogspot.com/">Official Google Blog</a> tells us that Google is about to release a Free Software-based browser. When I first read the announcement I wasn't too impressed reading that Google has actually built a browser, this was logical and I have been expecting this move for years. Also, reading that they based their browser on Free Software didn't impress me too much either, but then I found <a href="http://www.google.com/googlebooks/chrome/index.html">the comic</a>.<br><br><a name="more"></a><br><br>The comic contains a lot of information about the browser's architecture and I like the design. It makes perfectly sense, even though it could create some memory and processing overhead, but don't all major browsers consume "quite some" ressources? So, from a technical point of view, the browser sounds great, but there is a huge downside too.<br><br>The product announcement says that the browser is not only built upon Free Software, but is Free Software itself. Now, this sounds good, but then I had to read this:<br><blockquote>This is just the beginning -- Google Chrome is far from done. We're releasing this beta for Windows to start the broader discussion and hear from you as quickly as possible. We're hard at work building versions for Mac and Linux too, and will continue to make it even faster and more robust.</blockquote><br>I don't want to start nit-picking on the use of the term "Linux" for describing the GNU/Linux operating system there, even though I have to mention this fact.<br><br>What really bothers me is that it seems as if a binary-only release for Windows is being prepared, and only this binary version. In my opinion this is bad. I would rather have liked reading "a binary beta version for Windows will be made available along with the source code licensed under the terms of the &lt;insert your favourite Free Software license here&gt;".<br>Why? Because this way people could start tinkering with the code and thus help making a GNU/Linux version available sooner. Not seeing the code released makes the "Free Software" promise sound void.<br><br>Though nothing has happened yet. Google has merely announced the upcoming release of Google Chrome. No details have been made available whether the code will be released along with the Windows binary, but I fear we won't be getting hold of the code for a while.<br><br>This leads me to the title of this article: Is Google Chrome good or evil?<br>Well, if Google keeps the promise to release Chrome under a Free Software license and does so rather sooner than later I believe Google Chrome should not only be called "good". It would then qualify as a real alternative to Mozilla Firefox  and could even be superior to Firefox.<br>On the other hand, if Google does not release the code timely, releases the code under a proprietary license or does not release the code at all Chrome could and possibly should be tagged "evil".<br><br>Personally I am awaiting the release of Google Chrome. I would like to test it, see the code, maybe dig a bit into it and possibly make it my browser-of-choice. The reason for this is quite simple: I am tech-savvy and the technology used in Google Chrome sounds more than just interesting, but could actually be a step forward for the web. Both in increased usability for the user and the use of Free Software and Free Standards as a way to help the web evolve. If Google doesn't keep the Free Software promise though, expect me not to ever though that evil beast.<br><br><strong>UPDATE</strong> (September 3, 2008 at 7:44am CET):<br><br>Now that Chrome has been <a href="http://googleblog.blogspot.com/2008/09/google-chrome-now-live.html">released</a> Google apparently did also release the source code to Chrome, Chromium. The chromium project page can be found <a href="http://code.google.com/chromium/">here</a>, the Google Chrome home page <a href="http://www.google.com/chrome">here</a>.<br>Now it seems as if Google did make Chromium a Free Software browser (seems because I have not yet come around to downloading the tarball and checking the contents, but I do believe it actually is Free Software and for me there is no reason not to believe that anymore).<br><br>I am more than just happy with this because, as I pointed out in this article already, Google Chrome or Chromium does have an interesting architecture and should, in my opinion, be embraced by the Free Software community. The reason I am happy is not only the fact that it is Free Software, but rather that a company like Google does release a lot Free Software these days and personally I hope other companies will start following this example soon. <strong>Thanks Google for taking this step!</strong><br><br>So to make it short: <strong>Google Chrome? Not evil, good!</strong><br><br>Now a short word to the commenters of this article: Most comments have been helpful and I really appreciated them. Sorry that an update to this article took so long, but I'm living in Europe and was asleep while all the things you mentioned have happened.
            
    <p>
        <a href="posts/200809update-google-chrome-good-or-evil-good.html#disqus_thread" data-disqus-identifier="cache/posts/200809update-google-chrome-good-or-evil-good.html">Comments</a>

        </p></div>
        <div class="postbox">
        <h1><a href="posts/200808autoconf-and-python-checking-for.html">Autoconf and Python: checking for modules</a></h1>
            <div class="meta" style="background-color: rgb(234, 234, 234); ">                    
                <span class="authordate">
                    Posted: 2008-08-31 12:04
                </span>
                <br><span class="tags">Tags: 
                            <a class="tag" href="categories/foss.html"><span class="badge badge-info">foss</span></a>
                            <a class="tag" href="categories/observations.html"><span class="badge badge-info">observations</span></a>
                            <a class="tag" href="categories/nwu.html"><span class="badge badge-info">nwu</span></a>
                            <a class="tag" href="categories/free-software.html"><span class="badge badge-info">free software</span></a>
                </span>
            </div>
        <p>I am currently writing a Python application that makes use of GNU Autotools as build system and noticed that determining whether a specific Python module is installed is not that easy and no usable Autoconf macro exists. So I came up with <a href="http://blog.peijnik.at/wp-content/uploads/2008/08/python_module.m4" title="python_module.m4">my own solution</a>, which I would like to share with you.<br><br>The <em>AC_CHECK_PYTHON_MODULE</em> macro takes two arguments: The module name and optionally the variable name holding version information. This way it is not only possible to determine whether a module is installed (ie. loads in Python) on the current system, but also retrieve version information from that module.<br><br>The following examples checks whether the Crypto module is installed and retrieves its version information from Crypto.__version__:<br></p><blockquote>AC_CHECK_PYTHON_MODULE(Crypto, __version__)</blockquote><br>The macro itself does never report and error, but rather only a found/not found result. Error checking is up to the user and can be done via these two Autoconf variables:<br><ul><br><li>PYTHON_<em>&lt;MODULE_NAME&gt;</em></li><br><li>PYTHON_<em>&lt;MODULE_NAME&gt;</em>_VERSION</li><br></ul><br>PYTHON_<em>&lt;MODULE_NAME&gt;</em> is set to <em>"1"</em> if the module is present and <em>"0"</em> if not present.<br>PYTHON_<em>&lt;MODULE_NAME&gt;</em>_VERSION is only set when the version variable argument has been set and contains the version information of the module, if the module been found. If the module is not present this variable is also set to <em>"0"</em>.<br><br>The version variable argument is optional as I wrote, so the following invocation works too and only checks whether the distutils module is present:<br><blockquote>AC_CHECK_PYTHON_MODULE(distutils)</blockquote><br>As I wrote earlier in this article I would like to share this macro with you. You can download it <a href="http://blog.peijnik.at/wp-content/uploads/2008/08/python_module.m4" title="python_module.m4">here</a>.
            
    <p>
        <a href="posts/200808autoconf-and-python-checking-for.html#disqus_thread" data-disqus-identifier="cache/posts/200808autoconf-and-python-checking-for.html">Comments</a>

        </p></div>
        <div class="postbox">
        <h1><a href="posts/200808debian-gnulinux-50-on-samsung-p55-pro.html">Debian GNU/Linux 5.0 ("lenny") on a Samsung P55-Pro T8100 Sevesh</a></h1>
            <div class="meta" style="background-color: rgb(234, 234, 234); ">                    
                <span class="authordate">
                    Posted: 2008-08-22 10:28
                </span>
                <br><span class="tags">Tags: 
                            <a class="tag" href="categories/foss.html"><span class="badge badge-info">foss</span></a>
                            <a class="tag" href="categories/technology.html"><span class="badge badge-info">Technology</span></a>
                            <a class="tag" href="categories/free-software.html"><span class="badge badge-info">free software</span></a>
                </span>
            </div>
        <p>I have recently bought a new laptop, a Samsung P55-Pro T8100 Sevesh. As I was not able to find an installation report for this model anywhere on the internet I thought writing one myself is a good idea. This way people interested in getting this laptop or installing GNU/Linux on it can get some information.<br><br>The article covers both the hardware configuration of the laptop itself, a list of which features of the laptop do work and which don't (do not be afraid, most things work perfectly well out of the box) and finally a short installation report.<br><br><a name="more"></a><br><br>First of all, let's have a look at the hardware configuration of this laptop:<br></p><ul><br><li>Intel Core 2 Duo T8100 CPU (2.1 GHz)</li><br><li>2GiB DDR2 RAM (PC2-5300 - 667MHz)</li><br><li>Intel GM965 chipset with integrated Intel GMA X3100 graphics adapter</li><br><li>250GiB HDD</li><br><li>SXGA+ display with a resolution of 1400x1050</li><br><li>Intel PRO/Wireless 3945ABG WiFi adapter</li><br><li>Intel 82566MC NIC</li><br><li>HD Audio Codec,  ALC262 sound adapter</li><br><li>AuthenTec AES1600 fingerprint reader</li><br><li>Infineon TPM module</li><br><li>Ricoh cardbus bridge (RL5c476 II) plus cardreaders and IEEE1394 controller</li><br><li>One cardbus (PCMCIA II) and one Express Card/54 slot</li><br></ul><br>Now on to the list of what does and what doesn't work with GNU/Linux.<br><br><strong>Intel GMA X3100 graphics adapter</strong><br><br>Works out of the box. Full resolution is possible without a hack, VGA out works out of the box in both mirror and extended desktop mode.<br><strong>NO</strong> xorg.conf modifications are needed in this setup, everything works perfectly well with a nearly empty xorg.conf!<br>The only thing I had to modify was making the virtual display a bit bigger so that extended desktop mode works with an external monitor having a resolution of 1680x1050 pixels.<br><br><strong>Intel 82566MC NIC</strong><br><br>Works out of the box, no further configuration needed.<br><br><strong>Intel PRO/Wireless 3945ABG WiFi adapter</strong><br><br>Works with the iwl3945 driver, however, it requires something Intel calls "ucode", a proprietary firmware. Without this piece of firmware the card does not work. If you want to WiFi without the need for proprietary software (the ucode) you will have to go for a USB, PCMCIA or Express Card/54 WiFi adapter.<br><br><strong>HD Audio Codec,  ALC262 sound adapter</strong><br><br>Works out of the box.<br><br><strong>AuthenTec AES1600 fingerprint reader</strong><br><br>The fingerprint reader is said to be working with <a href="http://reactivated.net/fprint/wiki/Main_Page" title="fprint homepage">fprint</a>, which I did not test yet though. Expect an update sometime soon.<br><br><strong>Infineon TPM module</strong><br><br>Not tested.<br><br><strong>INSTALLATION REPORT</strong><br><br>Basically the Debian GNU/Linux 5.0 installation went smoothly using the beta2 netinstaller image. The system booted from cdrom and the installation process worked fine.<br>After rebooting into the new system however the system froze. No response, nothing. The last message on the screen suggested that the ACPI video module is the problem.<br>After rebooting using <em>init=/bin/sh</em> as boot argument I modified <em>/etc/modprobe.d/blacklist</em> and added the following line:<br><blockquote>blacklist video</blockquote><br>This is only a workaround for the real problem. The bug is present in Linux 2.6.25 and Linux 2.6.26. A bug report has been filed (<a href="http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=495697">here</a>). I will update this page as soon as the problem has been resolved.<br><br>There is another thing which doesn't seem to work. However, this could be (and likely is) related to the broken ACPI video kernel module: adjusting the display brightness.<br>On AC power the system boots with maximum brightness, which cannot be adjusted. Unplugging the AC adapter lowers the brightness.<br>When running on battery one can use the "brightness up" key combination to switch to maximum brightness, however, this <strong>cannot</strong> be undone.<br><br><strong>CONCLUSION</strong><br><br>The laptop is not only usable under GNU/Linux but most hardware works, even out of the box. The only real problem is the broken ACPI video module, which hopefully gets fixed soon.<br>I hope this article helps those who would like to get one of these laptops, but are not sure of its GNU/Linux compatibility, just like I was.
            
    <p>
        <a href="posts/200808debian-gnulinux-50-on-samsung-p55-pro.html#disqus_thread" data-disqus-identifier="cache/posts/200808debian-gnulinux-50-on-samsung-p55-pro.html">Comments</a>

        </p></div>
        <div class="postbox">
        <h1><a href="posts/200807is-trying-to-fix-esmtp-really-worth-it.html">Is trying to fix (E)SMTP really worth it? [part 2 - infrastructure]</a></h1>
            <div class="meta" style="background-color: rgb(234, 234, 234); ">                    
                <span class="authordate">
                    Posted: 2008-07-03 12:33
                </span>
                <br><span class="tags">Tags: 
                            <a class="tag" href="categories/technology.html"><span class="badge badge-info">Technology</span></a>
                            <a class="tag" href="categories/observations.html"><span class="badge badge-info">observations</span></a>
                </span>
            </div>
        <p>[digg=http://digg.com/security/Is_trying_to_fix_E_SMTP_really_worth_it_part_2]This article is the second in my series about the flaws of (E)SMTP, the whole Internet mail infrastructure and how it could possibly be fixed. The main focus of this part is a new approach to the infrastructure which should help making emailing more secure, reliable and less spam-prone.<br><br>The first article can be found <a href="http://blog.sp.or.at/2008/03/27/is-trying-to-fix-esmtp-really-worth-it-part-1/" title="Is trying to fix (E)SMTP really worth it? [part 1]">here</a> and points out flaws and problems in the current systems.<br><br><a name="more"></a><br><br>Before going into detail about how the infrastructure could look like I would like to point out the goals of my proposal:<br></p><ul><br><li>security through end-to-end encryption</li><br><li>security through sender and server authentication</li><br><li>integrity of message contents</li><br><li>built-in load-balancing support</li><br><li>getting rid of email forwards</li><br></ul><br>These five major points should be covered directly by a new infrastructure and should be mandatory. There is no point in making any of these optional as the rest of this article should point out.<br><br><strong>security through end-to-end encryption</strong><br><br>Even though both SSL and TLS support exist for (E)SMTP these features are optional. In fact this means that it is possible that even though one submits his or her email over a secure channel the message could be transferred in plain-text somewhere on the way to its destination.<br>This enables an attacker to snoop at your message somewhere along its way. Whilst some people believe this is okay I strongly oppose to anyone being able to read either my private or business emails.<br><br>The solution to this problem is end-to-end encryption. The new infrastructure should make encryption of all message exchanged mandatory and further provide a way of encrypting the message contents. This way only the intended recipient can actually read the message (as in not even a server administrator having direct access to a user's mailbox). End-to-end encryption of the communication channels should be done by using TLS for all communication between all clients and servers and for server-to-server communication.<br><br>Encrypting of the message payload could be done in a similar (if not even the same) way <a href="http://en.wikipedia.org/wiki/OpenPGP#OpenPGP" title="OpenPGP">OpenPGP</a> (RFC 4880) works.<br><br><strong>security through sender and server authentication</strong><br><br>The next feature a possible SMTP successor should provide is sender and server authentication. As TLS should be mandatory for the implementation the easiest way to achieve this is using a <a href="http://en.wikipedia.org/wiki/Public_key_infrastructure" title="Public key infrastructure">public key infrastructure</a>. This could then in turn be used for multiple things, including message integrity checking, encryption of message contents, authentication of the sender and authentication of the server.<br><br>Integrating a public key infrastructure could be done by having special DNS (maybe TXT) records that contain the address of key servers. These key servers would store not only a domain-root certificate which would allow user and server authentication but also all user and server certificates themselves.<br><br>A receiving server could then check the sending domain's key server for both the domain-root certificate and the sending server and thus verify that the message is legitimate and actually originated from the specified domain.<br><br>Sender authentication works together with message integrity. Basically the receiving server opens the message, gets the client's message signature from the message, and asks the sending domain's key server for the public key of the sender. The receiving server then checks the signature and this way verifies the sender.<br><br><strong>integrity of message contents</strong><br><br>Integrity checking is closely related to sender verification. As the receiving server checks the sender's message signature in the sender-verification process the message is automatically checked for integrity too.<br><br><strong>built-in load-balancing support</strong><br><br>Load-balancing is also closely related to the PKI approach. The sending server could use the receiving domain's key server to locate the server to send the message to. This way load-balancing of receiving servers can easily be implemented. Furthermore load-balancing of multiple key servers for a single domain is possible using DNS round-robin records.<br><br><strong>getting rid of email forwards</strong><br><br>Forwards can also be gotten rid of by using the receiving domain's key server similarily to the load-balancing approach. Instead of pointing the sender to a domain-local receiving server the key server could simply point the sender to another domain's receiving server. This way the message would not really be forwarded or relayed anymore but rather a pointer to where the message should be stored could be provided.<br><br><strong>Putting everything together</strong><br><br>Making all the mentioned features mandatory for a possible successor of SMTP should make users benefit in a few ways. Firstly, users could rely on both then integrity of the message, that the sender actually the person he or she pretends to be and the fact that snooping on the contents of the messages they send is hard to impossible.<br>Furthermore this infrastructure should make sending SPAM messages a lot harder as domains for sending spam would have to be bought, DNS servers and key servers would need to be operated and blocking unwanted messages could be as easy as blocking either a domain or a single user using the information provided through their message signature.<br><br>ISPs would benefit from the built-in load-balancing mechanisms and the mailbox alias feature (forwarder). Whilst the load-balancing technique simplifies set-up and operating of a load-balanced infrastructure the mailbox alias feature should help cutting down on traffic generated by email forwarders.<br><br>Please be aware that I intentionally left out all implementation specific details, such as the message exchange protocols. More technical aspects of a possible implementation are to be covered in the next parts of this series. As always, comments are highly appreciated.
            
    <p>
        <a href="posts/200807is-trying-to-fix-esmtp-really-worth-it.html#disqus_thread" data-disqus-identifier="cache/posts/200807is-trying-to-fix-esmtp-really-worth-it.html">Comments</a>

        </p></div>
        <div class="postbox">
        <h1><a href="posts/200806status-update.html">Status update</a></h1>
            <div class="meta" style="background-color: rgb(234, 234, 234); ">                    
                <span class="authordate">
                    Posted: 2008-06-23 12:38
                </span>
                <br><span class="tags">Tags: 
                            <a class="tag" href="categories/personal.html"><span class="badge badge-info">personal</span></a>
                </span>
            </div>
        <p>It has been quite a while since I last wrote an article and published it here.<br><br>It's not like I got tired of blogging. The reason why there hasn't been an update for such a long time is that I was doing my final exams in the past two months.<br><br>After passing my exams on Friday I should have time to write some articles again, so watch out for new articles here.</p>
            
    <p>
        <a href="posts/200806status-update.html#disqus_thread" data-disqus-identifier="cache/posts/200806status-update.html">Comments</a>

        </p></div>
        <div class="postbox">
        <h1><a href="posts/200804why-are-hardware-manufacturers-keeping.html">Why are hardware manufacturers keeping specs to themselves?</a></h1>
            <div class="meta" style="background-color: rgb(234, 234, 234); ">                    
                <span class="authordate">
                    Posted: 2008-04-06 15:13
                </span>
                <br><span class="tags">Tags: 
                            <a class="tag" href="categories/foss.html"><span class="badge badge-info">foss</span></a>
                            <a class="tag" href="categories/technology.html"><span class="badge badge-info">Technology</span></a>
                            <a class="tag" href="categories/observations.html"><span class="badge badge-info">observations</span></a>
                            <a class="tag" href="categories/free-software.html"><span class="badge badge-info">free software</span></a>
                </span>
            </div>
        <p>This is one question I have been interested in ever since I started using GNU/Linux.<br><br>Just think about it for a moment. About 20 years ago you got specifications for pretty much every piece of hardware you bought. You were given exact instructions on how to use the hardware you just bought, not only how to install it. Things have changed since then.<br><br>If you buy any piece of hardware today you actually have to expect not to get any documentation on how to "talk" to your new toy. You are only given a CD (sometimes even only a link to a homepage) containing drivers for a few specific operating systems, usually only Microsoft Windows.<br><br>Now I am no driver hacker and so I probably wouldn't be able to implement a driver for anything on my own anyways, but the Free Software community would largely benefit from hardware documentation, as there are a lot of capable driver hackers out there.<br><br>This is not a problem that only affects the Free Software community though. There are a lot of pieces of hardware which do not work on recent proprietary operating systems anymore due to lack of support by its manufacturers.<br>At least this problem would not exist for Free Software operating systems, such as GNU/Linux, if hardware makers would publish documentation of their hardware. The people still using devices which are well beyond their end-of-life could implement drivers on their own, not being dependent on anyone.<br><br>What I am really wondering about in this case is why hardware companies are unable to coin standards for accessing devices of the same class. It works perfectly well for USB (take USB mass storage devices as an example) and I do not understand why there can't be standardized interfaces to other hardware, such as network adapters, as well. On a very-low level these standardized interfaces do work. Just think of PCI, PCI Express or AGP.<br><br>Actually, if you think about this for a few more seconds you should realize one thing: Having standardized interfaces for devices of the same class would cut a lot of costs for hardware makers. Why? Oh well, if they design a brand new networking chip and still implement the given standard there would be no need of writing a new driver. Wait, there would be no need for per-device drivers at all. Implementing a common driver that accesses the standardized interface would be enough, for a whole range of devices.<br><br>So what am I asking of hardware makers? I would love to see companies creating devices of the same class to get together, create standardized interfaces, publish them and implement them in their new devices.<br>I know, this is not likely to happen anytime soon, so a more realistic approach is asking for Free Software drivers and/or documentation.<br><br>Personally I have stopped buying hardware which "works" with GNU/Linux, I have come to the point where I try only to buy hardware which either comes with Free Software drivers from the manufacturer or documentation which allows implementation of Free Software drivers.<br>This is probably the best way of showing these companies what you demand: Freedom.</p>
            
    <p>
        <a href="posts/200804why-are-hardware-manufacturers-keeping.html#disqus_thread" data-disqus-identifier="cache/posts/200804why-are-hardware-manufacturers-keeping.html">Comments</a>

        </p></div>
        <div class="postbox">
        <h1><a href="posts/200803free-software-supporter.html">Free Software Supporter</a></h1>
            <div class="meta" style="background-color: rgb(234, 234, 234); ">                    
                <span class="authordate">
                    Posted: 2008-03-28 15:13
                </span>
                <br><span class="tags">Tags: 
                            <a class="tag" href="categories/foss.html"><span class="badge badge-info">foss</span></a>
                            <a class="tag" href="categories/free-software.html"><span class="badge badge-info">free software</span></a>
                </span>
            </div>
        <p>I was quite stunned when I noticed that the Free Software Foundation (<a href="http://www.fsf.org" title="Free Software Foundation">FSF</a>) has recently started a new monthly-published newsletter, called the <a href="http://www.fsf.org/blogs/community/fss_v1.html">Free Software Supporter</a>.<br><br>The reason I was amazed is not the fact that the FSF is now publishing such a newsletter, but rather the fact that I did not hear about that yet. Basically, the Supporter is about informating the Free Software enthusiasts about recent happenings and the work of the FSF, the <a href="http://gnu.org" title="The GNU project">GNU</a> project and the global Free Software community.<br><br>It seems as if I am not the only person that is excited about the supporter, as Joshua Gay, who apparently is writing the Supporter, also seems to like it, as he writes in a <a href="http://www.fsf.org/blogs/community/fss_v1.html">blog post</a>:<br></p><blockquote>I hope that you enjoy the Supporter. I am looking forward to reflecting each month upon the work of the FSF, the GNU project, and the global free software community. I only hope that the number of highlights I add each month will continue to grow as quickly as the community is growing. In either case, we hope to keep it short and we hope to keep you informed.</blockquote><br>You can sign up to receive the Supporter via email on a monthly basis at <a href="http://lists.gnu.org/mailman/listinfo/info-fsf">http://lists.gnu.org/mailman/listinfo/info-fsf</a> and you can read the first issue online at <a href="http://lists.gnu.org/archive/html/info-fsf/2008-03/msg00000.html" title="Free Software Supporter - Issue 1">http://lists.gnu.org/archive/html/info-fsf/2008-03/msg00000.html</a>.<br><br>Also, if the Supporter looks like an interesting read to you, you may as well enjoy the monthly newsletter the <a href="http://www.fsfeurope.org" title="FSF Europe">FSF Europe</a> publishes. The FSFE Newsletter can either be read <a href="http://www.germany.fsfeurope.org/news/newsletter.en.html" title="FSFE - Newsletter">online</a> or you can sign up for the FSF Europe <a href="http://mail.fsfeurope.org/mailman/listinfo/press-release">press-release</a> mailing list.<br><br>Personally I believe both newsletters are worth reading and give you a great overview of what has happened in the past month, what is going to happen and the work done by the FSF and FSF Europe.<br><blockquote></blockquote>
            
    <p>
        <a href="posts/200803free-software-supporter.html#disqus_thread" data-disqus-identifier="cache/posts/200803free-software-supporter.html">Comments</a>

        </p></div>
        <div class="postbox">
        <h1><a href="posts/200803is-trying-to-fix-esmtp-really-worth-it.html">Is trying to fix (E)SMTP really worth it? [part 1]</a></h1>
            <div class="meta" style="background-color: rgb(234, 234, 234); ">                    
                <span class="authordate">
                    Posted: 2008-03-27 19:36
                </span>
                <br><span class="tags">Tags: 
                            <a class="tag" href="categories/technology.html"><span class="badge badge-info">Technology</span></a>
                            <a class="tag" href="categories/observations.html"><span class="badge badge-info">observations</span></a>
                </span>
            </div>
        <p>[digg=http://digg.com/security/Is_trying_to_fix_E_SMTP_really_worth_it_part_1]<br>This one question has been in my mind for quite some time already. I mean, everyone uses <a href="http://en.wikipedia.org/wiki/SMTP">SMTP</a> (knowingly or not) when sending out emails and everyone sending emails also knows what <a href="http://en.wikipedia.org/wiki/E-mail_spam">SPAM</a> is and receives SPAM messages.<br><br>However, few know how old SMTP actually is, and that, even though it serves everyone well, it has been designed in a time when everyone was thinking of <a href="http://en.wikipedia.org/wiki/Spam_%28food%29">Spam</a> as canned meat. Back in 1982 SMTP was a great achievement and a lot of kudos should go to its creators, but now, in 2008, SMTP has become more of a liability than a great tool.<br><br>Originally, I wanted to write a single article covering all shortcomings of SMTP and possible solutions to these problems, but while writing the article a lot of text came up, so this is the first of two articles I am going to write on this topic. The first part is about the problems with SMTP and how fix-ups for SMTP are, even though they do work to some extent, a proper solutions to today's issues.<br><br>Due to the way SMTP was designed and the way the Internet was back then it is prone to various things, like SPAM messages, <a href="http://en.wikipedia.org/wiki/E-mail_spoofing">sender spoofing</a>, data manipulation and so forth. A few attempts have been made at fixing some of the shortcomings of SMTP, like <a href="http://en.wikipedia.org/wiki/SMTP-AUTH">ESMTPA</a> (SMTP-AUTH) or <a href="http://en.wikipedia.org/wiki/Sender_Policy_Framework">SPF</a>, <a href="http://en.wikipedia.org/wiki/Callback_verification">Callback Verification</a>, and <a href="http://en.wikipedia.org/wiki/DKIM">DKIM</a>, but none of them has really fixed all problems that exist and all of these modifications are in my opinion mere workarounds.  Let us have a look at why both SPF and DKIM fail to fix the all problems SMTP has right now.<br><br><a name="more"></a><b>SPF</b><br><br>First let's have a quick look at how SPF works: When an email is received a special TXT DNS record at the sender's domain is used to verify that the sending computer (using its IP address) of an email is actually allowed to send email for a domain. A great mechanism that in theory would work perfectly well. Reality is a bit different though.<br><br>There are some domains which are actually using SPF and do have valid SPF records on their DNS servers. However, those are only some of the millions of domains on the Internet. How should one treat emails coming from a domain without SPF record? The messages could be real, non-SPAM messages, that should be delivered, but on the other hand these could be SPAM messages. Also, the more people start using SPF, the more likely it becomes that spammers are simply going to use sender-domains which do not have SPF records.<br>Also, there are some organizations that have domains with improperly configured SPF records and there are even well-known ones, such as <a href="http://www.technorati.com/">Technorati</a> (I covered this in <a href="http://blog.sp.or.at/2008/03/25/mails-from-technorati-not-arriving-not-obeying-their-own-spf-rules/">one of my articles</a>). So one cannot even trust SPF records and valuable messages could be lost if a mail server is configured to drop all messages for which SPF authentication fails.<br><br>And there is a third problem: Sending emails from other places than your default one (office, home, etc.) and ISPs not allowing external users to use their SMTP servers (even not with authentication). A good example of this would be Austrian ISP <a href="http://www.upc.at/">UPC</a> (their SMTP server tells me that the AUTH extension was not advertised, even though it was; long story short, I cannot log in from outside) and I am quite sure there are a lot of others.<br><br>And I can come up with yet another problem: What about email relaying? Think about downloading all messages from all your email accounts into a single one, using <a href="http://fetchmail.berlios.de/">fetchmail</a> for example. This makes SPF useless, as no checks can be done anymore, due to the sending system's IP address not being the original sender. If one assumes that every mail server uses SPF this is not a problem, but I like doing my checks on my server rather than relying on some other server.<br><br>Maybe there are even more problems with SPF, such as what to do when an email is received from a <a href="http://www.ops.ietf.org/lists/namedroppers/namedroppers.2005/msg00053.html">nonexistant domain</a> or when there is a temporary DNS failure on either side, but the ones listed above are those I am confronted with most often.<br><br><b>Callback Verification</b><br><br>On to the next topic. Callback verification is a simple method used by mail servers to try verifying that the sender actually exists. Whilst this works for some SPAM messages which use non-existent senders,  it does not help much as soon as the sender address does exist, and it does not even matter if the message was actually sent by the user owning the address. I guess there is nothing to add, even though it is a nice method to get rid of some spam it does not help with a lot of such messages.<br><br><b>DKIM</b><br><br>DKIM, or DomainKeys Identified Mail (originally named DomainKeys) is a method that is not meant to prevent abuse (such as SPAM), but rather to make tracking abuse easier. It works by the sender (usually the MSA of the sender on behalf of him) adding another header, "DKIM-Signature", which contains a cryptographic signature of the message body.  The signature is generated using <a href="http://en.wikipedia.org/wiki/Public-key_cryptography">public-key cryptography</a>, where the public key is stored in a DNS TXT record and can thus be used by the receiving end to verify that the message contents have not been tampered with during transport and that the mail actually originated from that domain.<br><br>This method, even though being one of the most advanced ones today, is prone to replay attacks and does not protect from tampering with message headers. In short this means that even though the message body cannot be modified without the receiving end detecting the modification, the headers can, and thus the message can be redirected. Also, it is possible to intercept the transmission of a message, generate a thousand messages with the same content but a different recipient and this way flood a mailbox with a message that would stand DKIM verification.<br><br>The email relaying problem that's present in SPF is not a problem here anymore, but the mobile-mail, the nonexistent domain and the DKIM-not-in-use problem still exist.<br>Also, DKIM seems not to be used by a lot of email servers on the Internet. Thinking about it for a second I can just come up with two names of well-known organizations using DKIM: Google and Yahoo.<br><br><b>The message format</b><br><br>The next part of this article is about the SMTP message format. This part is not directly related to the SPAM problem, but should provide you with some more information that verifies that SMTP is outdated nowadays.<br><br><a href="http://en.wikipedia.org/wiki/Email#Format">RFC822 messages</a> (or emails) usually consist of two parts: a message header and a message body. Originally these messages were designed to contain 7bit-encoded ASCII data, which is plain text. This means that there were only 128 different characters which could be transferred via email, without support of special characters, like German "Umlaut" characters. A solution has then be developed, not only to support special characters in emails, but also to support transferring of binary data (such as images).<br><br><a href="http://en.wikipedia.org/wiki/MIME">MIME</a> is the name of this solution, and it enables every one of us to send binary attachments and special characters via email today. MIME allows the email client to include more than just 7-bit plain text messages, including attachments. This is achieved by special header, "<i>MIME-Version</i>", which indicates that the contents of a message are MIME encoded. This header is then followed by a "<i>Content-Type</i>" header, identifying the type of content. For simple messages just consisting of a message body this would be "text/plain", telling the client that there is just text in the mail.<br><br>However, how can emails then consist of both text and attachments? Well, there is a special value for the "Content-Type" header: "<i>multipart/mixed</i>". This one indicates that there are several parts of a message, and every part comes with a separate "<i>Content-Type</i>" header. This way contents of a message can be organized in a tree, for example, containing the message body and a forwarded message.<br><br>An attachment is added by specifying an additional part of the message, usually with a "<i>Content-Transfer-Encoding: base64</i>" header, that says that the data has been <a href="http://en.wikipedia.org/wiki/Base64">base64</a> encoded. This way binary data can be represented using 7-bit ASCII.<br><br>But what does that mean? First of all, even though a message is split into several parts, there is only one body. Now if you are downloading a message via POP3 for example, there is no way of only downloading the actual text. You always need to download the whole message. Everyone knows this situation: You are downloading a message and have to wait for all attachments to be downloaded, even though you might not be interested in those attachments at all.<br><br>Also, encoding binary data using base64 creates a lot of overhead, as every byte (which can have 256 different values and corresponds to a single letter of text in 7-bit ASCII) is represented using only 64 possible values. Talking numbers here this means that messages encoded using base64 are usually 137% the size of the data they contain.<br><br><b>Conclusion</b><br><br>I hope that I have shown you what the problems with SMTP are right now. SMTP initially was  designed to transport only text and had no way of verifying either the sender of a message or the integrity of data. Some workarounds have been created to get rid of these issues, but even though some helped a lot, none has really fixed any of those problems.<br><br>Also, one should never forget how much time and money has been used to try fixing SMTP, whilst a lot less money might have been sufficient for creating something new, something better, something that is built for the needs of the Internet today, and not for the needs of the Internet back in 1982.<br><br>Personally I believe that the days of SMTP are long over and that there is need of a proper replacement. I do understand that SMTP and the current email infrastructure are still in use because an infrastructure exists, but SMTP really deserves being retired, after serving us pretty well for more than 25 years.<br><br>The next part in this series of articles will be about what my idea of a successor of SMTP and the whole email infrastructure is, what it could look like and also how it could work. So stay tuned.</p>
            
    <p>
        <a href="posts/200803is-trying-to-fix-esmtp-really-worth-it.html#disqus_thread" data-disqus-identifier="cache/posts/200803is-trying-to-fix-esmtp-really-worth-it.html">Comments</a>

        </p></div>
    
<div>
<ul class="pager"><li class="previous">
        <a href="index-3.html">← Newer posts</a>
    </li>
    <li class="next">
        <a href="index-5.html">Older posts →</a>
    </li>
</ul></div>

    
       <script type="text/javascript">var disqus_shortname="speijnikblog";(function(){var a=document.createElement("script");a.async=true;a.type="text/javascript";a.src="http://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("HEAD")[0]||document.getElementsByTagName("BODY")[0]).appendChild(a)}());</script></div>
        <div id="sidebar">
            <!--Sidebar content-->
            <h1 id="blog-title">
                <a href="." title="Stephan's blog">Stephan's blog</a>
            </h1>
            
            
            <ul class="unstyled"><li>
            
    <!-- Social buttons -->
    <div id="addthisbox" class="addthis_toolbox addthis_peekaboo_style addthis_default_style addthis_label_style addthis_32x32_style">
    <a class="addthis_button_more">Share</a>
    <ul><li><a class="addthis_button_facebook"></a>
    </li><li><a class="addthis_button_google_plusone_share"></a>
    </li><li><a class="addthis_button_linkedin"></a>
    </li><li><a class="addthis_button_twitter"></a>
    </li></ul></div>
    <script type="text/javascript" src="http://s7.addthis.com/js/300/addthis_widget.js#pubid=ra-4f7088a56bb93798"></script><!-- End of social buttons --></li><li><a href="archive.html">Archives</a>
            </li><li><a href="categories/index.html">Tags</a>
            </li><li><a href="rss.xml">RSS</a>

            </li><li>
            </li></ul></div>
        <div id="footer">
            Contents © 2013         <a href="mailto:stephan@peijnik.at">Stephan Peijnik</a> - Powered by         <a href="http://nikola.ralsina.com.ar">Nikola</a>
        </div>
    </div>
    
</body></html>